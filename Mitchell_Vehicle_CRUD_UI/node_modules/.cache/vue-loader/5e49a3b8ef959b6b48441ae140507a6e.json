{"remainingRequest":"C:\\Users\\trongnguyen\\mitchell_ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\trongnguyen\\mitchell_ui\\src\\views\\VehicleView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\trongnguyen\\mitchell_ui\\src\\views\\VehicleView.vue","mtime":1605209010992},{"path":"C:\\Users\\trongnguyen\\mitchell_ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\trongnguyen\\mitchell_ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\trongnguyen\\mitchell_ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\trongnguyen\\mitchell_ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiDQppbXBvcnQgVmVoaWNsZVRhYmxlTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL1ZlaGljbGVUYWJsZU1vZGFsLnZ1ZSINCi8vaW1wb3J0IHsgYXBpVVJMIH0gZnJvbSAnQC9jb25zdC5qcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiVmVoaWNsZU1hbmFnZXIiLA0KICAgIGNvbXBvbmVudHM6ew0KICAgICAgICBWZWhpY2xlVGFibGVNb2RhbA0KICAgIH0sDQogICAgZGF0YTogZnVuY3Rpb24oKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgc2VhcmNoOiAnJywNCiAgICAgICAgICAgIHBhcmFtczp7DQogICAgICAgICAgICAgICAgbWFrZTonJywNCiAgICAgICAgICAgICAgICBtb2RlbDonJywNCiAgICAgICAgICAgICAgICB5ZWFyOicnLA0KICAgICAgICAgICAgfSwgICAgICAgICAgDQogICAgICAgICAgICB2ZWhpY2xlczpbXSwNCiAgICAgICAgICAgIG1vZGFsVmVoaWNsZTpudWxsLA0KICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6ZmFsc2UsDQogICAgICAgICAgICBoZWFkZXJzOlsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdWZWhpY2xlIElkJywNCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdzdGFydCcsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnSWQnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdNYWtlJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdNYWtlJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTW9kZWwnLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ01vZGVsJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnWWVhcicsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnWWVhcicNCiAgICAgICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdDb250cm9scycNCiAgICAgICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBdDQogICAgICAgICAgICANCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgYXN5bmMgZ2V0VmVoaWNsZSgpew0KICAgICAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vbG9jYWxob3N0OjQ0Mzk2L2FwaS92ZWhpY2xlc2ANCiAgICAgICAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgICAgICAuZ2V0KHVybCx0aGlzLnBhcmFtcykNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ICh0aGlzLnZlaGljbGVzID0gcmVzcG9uc2UuZGF0YSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIGFzeW5jIGRlbGV0ZVZlaGljbGUodmVoaWNsZSl7DQogICAgICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzOTYvYXBpL3ZlaGljbGVzL2ANCiAgICAgICAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgICAgICAuZGVsZXRlKHVybCArIHZlaGljbGUuSWQpDQogICAgICAgICAgICAudGhlbigNCiAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB7IGlmIChyZXNwb25zZS5zdGF0dXMgPT0yMDApew0KICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWRJbmRleCA9IHRoaXMudmVoaWNsZXMuZmluZEluZGV4KHYgPT52LklkID09IHZlaGljbGUuSWQpDQogICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlcy5zcGxpY2UoZGVsZXRlZEluZGV4LDEpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc29sZS5sb2coIm1vZGFsIGNsaWNrZWQiICsgdmVoaWNsZSk7DQogICAgICAgICAgIA0KICAgICAgICB9LA0KDQogICAgICAgIHNob3dNb2RhbCh2ZWhpY2xlKXsNCiAgICAgICAgICAgIHRoaXMubW9kYWxWZWhpY2xlID0gdmVoaWNsZTsNCiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSB0cnVlOyANCiAgICAgICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBjbG9zZU1vZGFsKCl7DQogICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9ZmFsc2U7DQogICAgICAgIH0sDQoNCiAgICB9DQp9Ow0K"},{"version":3,"sources":["VehicleView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA","file":"VehicleView.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div id=\"view-vehicles\">\r\n        <v-card-title>\r\n        Vehicles \r\n        <v-spacer></v-spacer>\r\n        <v-flex>\r\n            <v-btn color=\"warning\" @click=\"getVehicle\">\r\n         Get All Vehicles\r\n        </v-btn>\r\n        </v-flex>\r\n\r\n        <v-flex>\r\n            <v-btn color =\"normal\" >New vehicle</v-btn>\r\n        </v-flex>\r\n        \r\n        <v-flex>\r\n            <v-btn color=\"success\" @click=\"getVehicle\">\r\n         Search\r\n        </v-btn>\r\n        </v-flex>\r\n        \r\n\r\n        \r\n      </v-card-title>\r\n      <v-data-table\r\n        :headers=\"headers\"\r\n        :items=\"vehicles\"\r\n        :search=\"search\"\r\n        class=\"elevation-1\"\r\n        >\r\n        <template v-slot:item.Controls=\"props\">\r\n           \r\n            \r\n           \r\n                <v-btn @click=\"showModal(props.item)\" alt=\"Edit\">\r\n                    <v-icon dark>mdi-pen</v-icon>\r\n                        \r\n                        </v-btn>\r\n                        <v-btn @click=\"deleteVehicle(props.item)\">\r\n                    <v-icon dark>mdi-heart</v-icon>\r\n                        \r\n                        </v-btn>\r\n        </template>\r\n        </v-data-table>\r\n\r\n        <VehicleTableModal v-if=\"isModalVisible\" v-bind:passedVehicle=\"modalVehicle\" @close=\"closeModal\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nimport VehicleTableModal from \"@/components/VehicleTableModal.vue\"\r\n//import { apiURL } from '@/const.js'\r\nexport default {\r\n    name: \"VehicleManager\",\r\n    components:{\r\n        VehicleTableModal\r\n    },\r\n    data: function(){\r\n        return{\r\n            search: '',\r\n            params:{\r\n                make:'',\r\n                model:'',\r\n                year:'',\r\n            },          \r\n            vehicles:[],\r\n            modalVehicle:null,\r\n            isModalVisible:false,\r\n            headers:[\r\n                {\r\n                    text: 'Vehicle Id',\r\n                    align: 'start',\r\n                    value: 'Id'\r\n                },\r\n                {\r\n                    text: 'Make',\r\n                    value: 'Make'\r\n                },\r\n                {\r\n                    text: 'Model',\r\n                    value: 'Model'\r\n                },\r\n                {\r\n                    text: 'Year',\r\n                    value: 'Year'\r\n                },\r\n\r\n                {\r\n                    text: '',\r\n                    value: 'Controls'\r\n                },\r\n\r\n            ]\r\n            \r\n        };\r\n    },\r\n    methods: {\r\n        async getVehicle(){\r\n            const url = `https://localhost:44396/api/vehicles`\r\n            await axios\r\n            .get(url,this.params)\r\n            .then(response => (this.vehicles = response.data));\r\n        },\r\n\r\n        async deleteVehicle(vehicle){\r\n            const url = `https://localhost:44396/api/vehicles/`\r\n            await axios\r\n            .delete(url + vehicle.Id)\r\n            .then(\r\n                response => { if (response.status ==200){\r\n                const deletedIndex = this.vehicles.findIndex(v =>v.Id == vehicle.Id)\r\n                this.vehicles.splice(deletedIndex,1)\r\n                }\r\n                });\r\n            console.log(\"modal clicked\" + vehicle);\r\n           \r\n        },\r\n\r\n        showModal(vehicle){\r\n            this.modalVehicle = vehicle;\r\n            this.isModalVisible = true; \r\n            \r\n        },\r\n        closeModal(){\r\n           \r\n            this.isModalVisible =false;\r\n        },\r\n\r\n    }\r\n};\r\n</script>"]}]}